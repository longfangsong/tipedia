<h1>Tipedia</h1>
<h2>what is this</h2>
<p>This is an <strong>unofficial</strong> encyclopedia of TiDB related concepts. The goal is to include all the concepts/configuration items/others that may be encountered during the development/maintenance/use of TiDB.</p>
<h2>Why we need this?</h2>
<p>In our work, whether we are reading code, reviewing design documents, reviewing incidents, checking the monitoring statics, or participating in discussions with others, we will often meet up with concepts that we don't understand very well:</p>
<p>(The following content is collected from WeCom)</p>
<blockquote>
<p>What is amend?</p>
</blockquote>
<blockquote>
<p>DM 是什么的简称呀。</p>
</blockquote>
<blockquote>
<p>这个 schrodinger_test 是啥？</p>
</blockquote>
<p>(The following content is collected from Slack)</p>
<blockquote>
<p>请问这个 hot_peer 是做什么用的呀？</p>
</blockquote>
<blockquote>
<p>ndv 是啥呀？</p>
</blockquote>
<blockquote>
<p>sorry, so does the term &quot;amend transaction&quot; mean the transaction altering the metadata of a table/database?</p>
</blockquote>
<p>(The following content is collected from google doc)</p>
<blockquote>
<p>distinct filter 的含义是什么，搜了下文档没搜到。</p>
</blockquote>
<p>~~ The following two are for fun. ~~ Even the funny ones are valuable!</p>
<p>(Collected from WeChat)</p>
<blockquote>
<p>弱问 413 是什么</p>
</blockquote>
<blockquote>
<p>不知道渡渡鸟是什么</p>
</blockquote>
<p>Many of these questioners are experienced and excellent engineers, even they can't fully understand all the concepts in the entire system, 
let alone a stupid guy like me and those first time contributors.</p>
<p>Before this, if I meet up with concepts that I don’t know much about, I will:</p>
<ul>
<li>
<p>Check the documentation, but</p>
<ul>
<li>The document is more user-oriented, some things are implementation details or internal workflow, not in the document</li>
</ul>
</li>
<li>
<p>Read the code, but</p>
<ul>
<li>
<p>Some things in the system have nothing to do with the code</p>
</li>
<li>
<p>Some abbreviations are just verbal, not in the code</p>
</li>
<li>
<p>Many concepts are ambiguous, but there is no disambiguation page in the code</p>
<p>For example, there are at least three kinds of <code>Mutation</code> in TiKV and client-rust.</p>
<p>For another example, Commit can refer to:</p>
<ul>
<li>The entire Commit process of the transaction</li>
<li>The second stage of 2pc</li>
<li>Commit process of raft</li>
</ul>
<p>It takes a lot of effort to distinguish which concept is in the current context, and it is also hard to find the corresponding code with brainless full-text search.</p>
</li>
<li>
<p>The code is distributed in multiple repos, which is troublesome to find</p>
</li>
</ul>
</li>
<li>
<p>Ask people, but</p>
<ul>
<li>Social phobia guys say no (That's me 😭)</li>
<li>Someone who can answer may not available immediately</li>
<li>May disturb other people's work</li>
</ul>
</li>
</ul>
<p>Actually from [Domain Driven Design](https://zh.wikipedia.org/wiki/%E9%A0%98%E5%9F%9F%E9%A9%85%E5%8B%95%E8%A8% AD%E8%A8%88), all of these concepts are part of our <a href="https://martinfowler.com/bliki/UbiquitousLanguage.html">Ubiquitous Language</a>. We usually work in some <a href="https://martinfowler.com/bliki/BoundedContext.html">Bounded Context</a>, we are all very familiar with the concepts, but beyond our <a href="http://ddd.fed.wiki/org/view/conceptual-contours">Conceptual Contours</a>. The concepts may not be well understood by us, even for “understand what others are saying” to “diagnosing problems”, it is necessary to understand these concepts.</p>
<p>The biggest goal of this system is to spread the knowledge in the minds of certain engineers to the entire TiDB production and research system, including R&amp;D, DBAs, community contributors, customers, and so on.</p>
<p>So for this goal, what are the advantages of this project compared with &quot;source code analysis series&quot;, &quot;document tree&quot;, etc.?</p>
<h3>Unofficial</h3>
<p>This project is something that I personally maintain, and I am not going to make it an official project of the company.</p>
<p>The advantages of Unofficial are as follows:</p>
<ul>
<li>Unofficial = No pressure, different from writing articles like source code analysis, adding entries in Tipedia is relatively casual, although the reliability may not as high as code analysis.</li>
<li>Unofficial = Anyone can edit. Anyone in this project can add/modify entries (by sending pr/issue directly, note that due to the existence of @baipiao-bot, pr will be immediately merged as long as it is posted, and no review is required.</li>
<li>Unofficial = (more hopeful to be) updated frequently. Due to the above two reasons, anyone who finds outdated entries can update directly. Compared with the source code analysis series (and even the code comments, I personally think that to sending a pr for just fixing the comment is not worthy) is more likely to keep up with the latest situation</li>
<li>Unofficial = Some less official terms can be included, such as &quot;Dagu Road Constitution&quot; 😏</li>
</ul>
<p>In general, it is to abandon reliability to pursue the update speed and the experience of the updater.</p>
<h3>&quot;Short and fast&quot;</h3>
<p>The entry content of this project should be written as short as possible, and links to detailed content (such as documents).</p>
<p>For example, &quot;How to quickly build a TiDB development cluster&quot;, just write &quot;Use the <code>tiup playground</code> command, see <a href="https://docs.pingcap.com/zh/tidb/stable/tiup-playground#playground-%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D">document</a>&quot; is enough, there is no need to expand how to install tiup and so on.</p>
<p>Because for some scenarios, we only need to have a general understanding of a certain concept, not very in-depth, and the document may &quot;force&quot; us to read a lot of details, wasting our time. Therefore, this project hopes to make the readers choose, they can just glance the description in the entry if just want some basic knowledge, or follow the links to the documentation and code if want to understand it in depth.</p>
<h2>Subproject</h2>
<h3>What</h3>
<p>Collection concept. Include the names of structures/enum/variables/components/configuration items in the code. Answer the question &quot;What is XXX **&quot;.</p>
<h3>How</h3>
<p>Tell you what to do if you want to do something, such as &quot;<strong>how</strong> to add a memory table to TiDB&quot;, &quot;<strong>how</strong> to print the data exchanged between TiDB/TiKV&quot;. After manualizing how to do these things, the threshold of contribution is very low. (For example, after I wrote &quot;How to add a memory table to TiDB&quot;, when doing TiDB Transaction related views, I prepared the data source, then opened an issue, and then I could directly throw the task of adding a table to an external contributor. )</p>
<h3>Why</h3>
<p>Explain the reasons for some design choices, such as &quot;<strong>why</strong> <code>statements_summary</code> and <code>statements_summary_history</code> should be divided into two tables&quot;</p>
<h3>Where(WIP)</h3>
<p>To help find the code to complete some specific tasks, such as &quot;Where is the column name in the SQL during the query process is encoded as the corresponding KV data&quot;, &quot;The request to the TiKV <strong>where</strong> corresponds to To a certain region above me&quot;</p>
<h3>What if(WIP)</h3>
<p>Tell us what will happen if XXX, such as &quot;**what happens if <strong>a TiKV node goes down</strong>&quot;</p>
<h2>how to use</h2>
<h3>Directly search for what you want to know</h3>
<p>Just enter what you want to check in the upper right corner.</p>
<p><a href="https://imgtu.com/i/6P4RgJ"><img src="https://s3.ax1x.com/2021/03/01/6P4RgJ.png" alt="6P4RgJ.png" /></a></p>
<h3>Contribute what you know</h3>
<h4>Via Github Issue</h4>
<p>Use <a href="https://github.com/longfangsong/tipedia/issues/new?assignees=&amp;labels=contribution&amp;template=contribute-content.md&amp;title=%5BContribute%5D+Title+here">this template</a> to send an issue,
@baipiao-bot will handle the next thing.</p>
<h4>Via Github Pull Request</h4>
<p>Send pr directly to this warehouse! Since you only need to write/edit a markdown file, you don't even need to clone this repository locally. In the corresponding sub-item of the corresponding language
Just add/modify directly below.</p>
<p>Generally, the content of a markdown is as follows:</p>
<pre><code class="language-markdown">---
category: entry type, such as concept, component, config-item, etc.
aliases: [] aliases and abbreviations for entries
tags: [] Any tag, TiDB, TiKV, sig/txn are all good tags
---
# Entry name

content

## Links

Some links to external sources, such as code and design documents
</code></pre>
<h2>Technical Features</h2>
<p>From the domain name to the storage to the management bot, all of this project is powered by GitHub and totally free! 😏</p>
