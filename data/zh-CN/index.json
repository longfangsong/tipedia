[{"name":"PD 依赖 etcd","tags":["PD","etcd"],"aliases":[],"category":"design-idea","content_for_search":"PD 依赖 etcd原因主要有：简单方便稳定社区支持TiKV/TiDB 本身目前不具备一部分 etcd 的功能，如 lease/watchLinksTwitter 上的讨论（评论区捕捉 CTO）","path":"why%2Fpd-on-etcd.htmlpart"},{"name":"在 TiDB 中新建一张 infoschema 表","tags":["TiDB","SQL"],"aliases":[],"category":"handbook","content_for_search":"在 TiDB 中新建一张 infoschema 表在 tidb 仓库的 ，向文件一开始那个大  的最后添加一条 在下面的  里为他添加一个 在下面的  里面添加这个表的  定义在下面的  里面添加  到  的映射在 ，为 ，添加一个 ，这个函数的主要用途就是把数据转成  的样子然后放在  的  里面，这里数据从哪里来我就不管了，你自己决定。然后在  里的大  里面加一个 ， 的键就是你在 1. 中写的那个 ，行为就是 。在  中的  里的  里的那个  里面，加上对应的 ，一般在最长的那坨  最后加一条  就行注：如果希望某个表有全集群和单个 TiDB server 节点两个版本，只需在  注册单 server 表对应的全集群版本：，然后和对应单机表一起进行 6. 和 7. 两步操作即可。","path":"how%2FAddInfoTable.htmlpart"},{"name":"AmendSchema","tags":["TiDB","txn"],"aliases":["amend"],"category":"concept","content_for_search":"AmendSchema当有并发进行的DDL时，事务可以自动修改其mutation以减少 commit 失败的情况。Links代码代码","path":"what%2FAmendSchema.htmlpart"},{"name":"LockManager","tags":["transaction","TiKV","Lock"],"aliases":[],"category":"concept","content_for_search":"LockManagerTiKV中用于管理悲观锁的组件。Links代码","path":"what%2FLockManager.htmlpart"},{"name":"Detector","tags":["TiKV","sig/txn"],"aliases":[],"category":"concept","content_for_search":"Detector死锁检测器。Links代码","path":"what%2FDetector.htmlpart"},{"name":"compation","tags":["TiKV","sig/storage"],"aliases":[],"category":"concept","content_for_search":"compation将LSM Tree中的小SST文件合并成一个大的SST文件。Links文档","path":"what%2FCompation.htmlpart"},{"name":"min_commit_ts","tags":["TiKV","sig/txn","largeTxn","asyncCommit"],"aliases":[],"category":"concept","content_for_search":"min_commit_ts 指事务预期最早被提交的时间戳，在两个场合被使用：大事务中的  在事务开始时设置为该事务（设其为事务 A）的  + 1。当其他事务（设其为事务 B）试图读事务 A “锁住”的 key 时，会将事务 A 的  推进为事务 B 自身的 + 1，来强迫系统使得自己看不到事务 A 的结果。可以看作是事务 A rebase 到了事务 B 上面。async commit 中的 在使用了 async commit 的事务处理过程中，TiKV 会在对每个 Prewrite 请求持久化时，将本地所“看见”到过最大的时间戳作为  一起持久化下去，并返回给 TiDB。对于 TiDB，实际用于提交的 。Links大事务文档async commit文档Prewrite Result 中的 ","path":"what%2Fmin_commit_ts.htmlpart"},{"name":"CIStr","tags":["TiDB"],"aliases":[],"category":"concept","content_for_search":"CIStr大小写无关字符串。Links代码","path":"what%2FCIStr.htmlpart"},{"name":"ConcurrencyManager","tags":["TiKV"],"aliases":["cm"],"category":"concept","content_for_search":"ConcurrencyManagerTiKV 中用于并发控制和内存锁管理的结构。Links代码","path":"what%2FConcurrencyManager.htmlpart"},{"name":"聚簇索引","tags":["TiDB"],"aliases":["Cluster Index"],"category":"feature","content_for_search":"聚簇索引即数据行和索引存储在一起，在实现这个 feature 之前，TiDB 只能在单列 INTEGER/BIGINT 主键上启用聚簇索引。而实现这个 feature 之后，要求放宽到支持使用任意主键作为聚簇索引。Links使用文档Proposal","path":"what%2F%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95.htmlpart"},{"name":"distinctScoreFilter","tags":["pd","sig/scheduling"],"aliases":["distinct-filter"],"category":"concept","content_for_search":"distinctScoreFilterdistinctScoreFilter保证distinct score不会下降。Links代码","path":"what%2FdistinctScoreFilter.htmlpart"},{"name":"Completion Queue","tags":["grpc"],"aliases":["cq"],"category":"concept","content_for_search":"Completion QueuegRPC 用于缓存事件（如rpc请求）的组件，用于流控等。Links代码官方C++实现文档","path":"what%2FCompletion%20Queue.htmlpart"},{"name":"TiPB","tags":["TiDB","protobuf","grpc"],"aliases":[],"category":"project","content_for_search":"TiPBTiDB 的 protobuf 文件所在的仓库。辨析tipb vs kvproto: 请注意 TiKV 是可以脱离 TiDB 独立运行的 kv 数据库，kvproto 是 TiKV  的 protobuf 定义。Links仓库地址","path":"what%2FTiPB.htmlpart"},{"name":"Green GC","tags":[],"aliases":[],"category":"feature","content_for_search":"Green GC使得GC过程中可以跳过 raft 层直接resolve lock。Links文档","path":"what%2FGreen%20GC.htmlpart"},{"name":"location-labels","tags":["PD"],"aliases":[],"category":"config-item","content_for_search":"location-labels表示TiKV集群拓扑结构的label。Links文档配置文件示例","path":"what%2Flocation-labels.htmlpart"},{"name":"General Availability","tags":[],"aliases":["GA"],"category":"concept","content_for_search":"General Availability我们平常说的某个 Feature GA，就是说这个 Feature 已经可以正式发布可用了。","path":"what%2FGeneral%20Availability.htmlpart"},{"name":"Datum","tags":["TiDB"],"aliases":[],"category":"concept","content_for_search":"DatumA data box holds different kinds of data，有点像 Rust 中的 enum。常用于 TiDB 表中某个 Cell 的数据源。Links代码","path":"what%2FDatum.htmlpart"},{"name":"大沽路宪法","tags":["搞笑"],"aliases":[],"category":"concept","content_for_search":"大沽路宪法PingCAP 上海办公室的行为守则。LinksRepo","path":"what%2F%E5%A4%A7%E6%B2%BD%E8%B7%AF%E5%AE%AA%E6%B3%95.htmlpart"},{"name":"Context","tags":["TiKV"],"aliases":[],"category":"concept","content_for_search":"ContextTiKV 请求上附加的一些不属于请求本身的必要信息，包括 region 信息，隔离级别等。LinksProtobuf","path":"what%2FContext.htmlpart"}]