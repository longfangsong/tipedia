<h1>Protected Rollback</h1>
<p>在引入了 <a href="https://longfangsong.github.io/tipedia/#/prerendered/what%2FCollapse%20Rollback.htmlpart">Collapse Rollback</a> 和悲观事务后，某个事务的 primary key 上的 rollback 记录可能会被 collapse 掉了，造成这个事务的 secondary keys 被意外提交。</p>
<p>为了避免这个情况，我们把这些悲观事务的 primary key 上的 rollback 记录标记为 protected，不 collapse 他们。</p>
<h2>Links</h2>
<ul>
<li><a href="https://github.com/tikv/tikv/pull/5575">引入的 PR</a></li>
</ul>
