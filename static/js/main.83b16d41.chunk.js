(this.webpackJsonptipedia=this.webpackJsonptipedia||[]).push([[0],{111:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(10),o=n.n(i),s=(n(111),n(18)),l=n(33),j=n(36),d=n(4),u=n(167),h=n(176),b=n(183),p=n(166),O=n(175),x=n(177),g=n(96),m=n.n(g),f=n(161),v=n(126),w=n(164),k=n(165),S=n(181),y=n(83),C=n.n(y),I=n(84),B=n.n(I),N=n(85),W=n.n(N),z=n(86),F=n.n(z),M=n(89),T=n.n(M),L=n(87),D=n.n(L),H=n(88),P=n.n(H),R=n(45),E=n.n(R),_=n(55),K=n(16),Y=n(100),G={keys:[{name:"name",weight:.45},{name:"aliases",weight:.4},{name:"content_for_search",weight:.15}]},J=function e(t){Object(K.a)(this,e),this.items=t,this.fuse=void 0,this.fuse=new Y.a(t,G)},A=new Map;function U(e){return V.apply(this,arguments)}function V(){return(V=Object(_.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.has(t)){e.next=10;break}return e.next=3,fetch("/tipedia"+"/data/".concat(t,"/index.json"));case 3:return n=e.sent,e.t0=J,e.next=7,n.json();case 7:e.t1=e.sent,a=new e.t0(e.t1),A.set(t,a);case 10:return e.abrupt("return",A.get(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n(160),q=n(8);function Q(){var e=Object(q.f)(),t=Object(S.a)(),n=t.t,r=t.i18n,i=Object(c.useState)([]),o=Object(s.a)(i,2),l=o[0],j=o[1];return Object(X.a)((function(){U(r.language).then((function(e){j(e.items)}))})),Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(v.a,{button:!0,component:"a",href:"/tipedia/",children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(k.a,{primary:n("Home")})]}),Object(a.jsxs)(v.a,{button:!0,component:"a",onClick:function(){var t=l[Math.floor(Math.random()*l.length)];e.replace("/prerendered/".concat(null===t||void 0===t?void 0:t.path))},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(k.a,{primary:n("Random")})]}),Object(a.jsx)(p.a,{}),Object(a.jsxs)(v.a,{button:!0,children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(W.a,{})}),Object(a.jsx)(k.a,{primary:n("How")})]}),Object(a.jsxs)(v.a,{button:!0,children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(k.a,{primary:n("Why")})]}),Object(a.jsxs)(v.a,{button:!0,children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(D.a,{})}),Object(a.jsx)(k.a,{primary:n("Where")})]}),Object(a.jsxs)(v.a,{button:!0,children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(P.a,{})}),Object(a.jsx)(k.a,{primary:n("WhatIf")})]}),Object(a.jsx)(p.a,{}),Object(a.jsxs)(v.a,{button:!0,component:"a",onClick:function(){e.replace("/prerendered/about%2Findex.htmlpart")},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(T.a,{})}),Object(a.jsx)(k.a,{primary:n("Info")})]})]})}var Z=n(95),$=n(62);function ee(){var e=Object(S.a)(),t=e.t,n=e.i18n,r=Object(c.useState)([]),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(X.a)((function(){U(n.language).then((function(e){return l(e.items)}))})),Object(a.jsxs)("div",{children:[Object(a.jsx)($.a,{variant:"h3",component:"h4",gutterBottom:!0,children:"Welcome to Tipedia"}),Object(a.jsx)($.a,{variant:"h6",gutterBottom:!0,children:"the free encyclopedia for TiDB and related works"}),Object(a.jsxs)($.a,{gutterBottom:!0,children:[t("All")," ",o.length," ",t("items")]})]})}var te=n(168),ne=n(170),ae=n(169),ce=n(171),re=Object(u.a)({root:{minWidth:400,marginTop:40},title:{fontSize:14}});function ie(e){var t=e.variant,n=e.promote,r=Object(S.a)(),i=r.t,o=r.i18n,l=Object(q.f)(),j=Object(c.useState)(null),d=Object(s.a)(j,2),u=d[0],h=d[1];Object(X.a)((function(){U(o.language).then((function(e){var n=(null===e||void 0===e?void 0:e.items.filter((function(e){return e.path.startsWith(t)})))||[];h(n[Math.floor(Math.random()*n.length)]),setInterval((function(){h(n[Math.floor(Math.random()*n.length)])}),3e3)}))}));var b=re();return Object(a.jsxs)(te.a,{className:b.root,children:[Object(a.jsxs)(ae.a,{children:[Object(a.jsx)($.a,{className:b.title,color:"textSecondary",gutterBottom:!0,children:i("DoYouKnow")}),Object(a.jsx)($.a,{children:i(n)}),Object(a.jsx)($.a,{variant:"h5",component:"h2",children:null===u||void 0===u?void 0:u.name})]}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(ce.a,{size:"small",variant:"contained",onClick:function(){l.replace("/prerendered/".concat(null===u||void 0===u?void 0:u.path))},disableElevation:!0,children:i("FindOutHere")})})]})}function oe(){return Object(a.jsxs)(c.Suspense,{fallback:"loading",children:[Object(a.jsx)(ee,{}),Object(a.jsx)(ie,{variant:"what",promote:"DoYouKnowWhatIs"}),Object(a.jsx)(ie,{variant:"how",promote:"DoYouKnowHowTo"})]})}function se(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(S.a)().i18n,l=decodeURIComponent(e.path);return Object(_.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tipedia"+"/data/".concat(o.language,"/").concat(l));case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,i(n);case 7:case"end":return e.stop()}}),e)})))(),Object(a.jsx)("div",{className:"page",dangerouslySetInnerHTML:{__html:r}})}function le(){var e=Object(q.g)().path;return Object(a.jsx)(c.Suspense,{fallback:"loading",children:Object(a.jsx)(se,{path:e})})}var je=n(174),de=n(92),ue=n.n(de),he=n(15),be=n(173),pe=n(179),Oe=n(93),xe=n.n(Oe),ge=n(94),me=n.n(ge),fe=n(180),ve=n(172),we=n(90),ke=n.n(we),Se=n(91),ye=n.n(Se);function Ce(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(S.a)().i18n,o=function(){r(null)},l=function(e){null!==e&&i.changeLanguage(e).then((function(){return window.location.reload()})),o()};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ce.a,{color:"inherit","aria-controls":"language-menu","aria-haspopup":"true",onClick:function(e){return r(e.currentTarget)},children:[Object(a.jsx)(ke.a,{}),"\xa0",Object(a.jsx)("span",{children:function(e){switch(e){case"zh":case"zh-CN":return"\u4e2d\u6587";case"en":return"English";default:console.error(e)}}(i.language)}),"\xa0",Object(a.jsx)(ye.a,{})]}),Object(a.jsxs)(fe.a,{id:"language-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:o,children:[Object(a.jsx)(ve.a,{onClick:function(){return l("zh")},children:"\u4e2d\u6587"},"zh"),Object(a.jsx)(ve.a,{onClick:function(){return l("en")},children:"English"},"en")]})]})}var Ie=Object(u.a)((function(e){return{toolbar:{paddingRight:24},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.white,.25)},marginLeft:0,minWidth:300,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Be(e){var t=e.handleDrawerOpen,n=e.open,r=e.onSearch,i=Ie();return Object(a.jsx)(be.a,{position:"absolute",className:Object(d.a)(i.appBar,n&&i.appBarShift),children:Object(a.jsxs)(je.a,{className:i.toolbar,children:[Object(a.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,className:Object(d.a)(i.menuButton,n&&i.menuButtonHidden),children:Object(a.jsx)(ue.a,{})}),Object(a.jsx)($.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:i.title,children:"Tipedia"}),Object(a.jsx)(c.Suspense,{fallback:"loading",children:Object(a.jsx)(Ce,{})}),Object(a.jsxs)("div",{className:i.search,children:[Object(a.jsx)("div",{className:i.searchIcon,children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(pe.a,{placeholder:"Search\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return r(e.target.value)}})]}),Object(a.jsx)(O.a,{href:"https://github.com/longfangsong/tipedia",color:"inherit",children:Object(a.jsx)(me.a,{})})]})})}var Ne=n(182),We=Object(u.a)((function(e){return Object(Ne.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,color:e.palette.text.primary},notFound:{color:"#818181"}})}));function ze(e){var t=e.to_search,n=Object(q.f)(),r=Object(S.a)().i18n,i=Object(c.useState)(null),o=Object(s.a)(i,2),l=o[0],j=o[1],d=We();Object(X.a)((function(){U(r.language).then((function(e){j(e||null)}))}));return Object(a.jsx)(f.a,{className:d.root,children:function(){var e=null===l||void 0===l?void 0:l.fuse.search(t);return 0===(null===e||void 0===e?void 0:e.length)?Object(a.jsx)(v.a,{className:d.notFound,children:"\u65e0\u7ed3\u679c"}):Object(a.jsx)(a.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(a.jsx)(v.a,{button:!0,component:"a",onClick:function(){n.replace("/prerendered/".concat(e.item.path))},children:Object(a.jsx)(k.a,{primary:e.item.name})},e.item.name)}))})}()})}var Fe=n(184),Me=Object(u.a)((function(e){return{root:{display:"flex"},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(l.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},backdrop:{zIndex:e.zIndex.drawer-1,color:"white"}}}));var Te=function(){var e=Me(),t=Object(c.useState)(!0),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),j=l[0],u=l[1];return Object(a.jsx)(Z.a,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(h.a,{}),Object(a.jsx)(Be,{handleDrawerOpen:function(){return i(!0)},open:r,onSearch:u}),Object(a.jsxs)(b.a,{variant:"permanent",classes:{paper:Object(d.a)(e.drawerPaper,!r&&e.drawerPaperClose)},open:r,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(O.a,{onClick:function(){return i(!1)},children:Object(a.jsx)(m.a,{})})}),Object(a.jsx)(p.a,{}),Object(a.jsx)(c.Suspense,{fallback:"loading",children:Object(a.jsx)(Q,{})})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)(Fe.a,{className:e.backdrop,open:""!==j,onClick:function(){return u("")},children:Object(a.jsx)(c.Suspense,{fallback:"loading",children:Object(a.jsx)(ze,{to_search:j})})}),Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsx)(x.a,{maxWidth:"lg",className:e.container,children:Object(a.jsxs)(q.c,{children:[Object(a.jsx)(q.a,{exact:!0,path:"/",children:Object(a.jsx)(oe,{})}),Object(a.jsx)(q.a,{path:"/prerendered/:path",children:Object(a.jsx)(le,{})})]})})]})]})})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,186)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},De=n(69),He=n(50),Pe=n(97),Re=n(99);De.a.use(Pe.a).use(Re.a).use(He.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"/tipedia/locales/{{lng}}/{{ns}}.json"}});De.a;o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Te,{})}),document.getElementById("root")),Le()}},[[124,1,2]]]);
//# sourceMappingURL=main.83b16d41.chunk.js.map